<Window x:Class="MIOConfigurator.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Настройка МВВ" Height="400" Width="700" MinHeight="400" MinWidth="700" Background="{DynamicResource {x:Static SystemColors.WindowBrushKey}}" WindowStartupLocation="CenterScreen" Closing="MainWindow_Closing">
    <DockPanel Background="{DynamicResource {x:Static SystemColors.ControlBrushKey}}">
        <Menu DockPanel.Dock="Top">
            <MenuItem Header="_Соединение" >
                <MenuItem x:Name="cmdConnect" Header="_Подключиться" Click="CmdConnect_OnClick">
                    <MenuItem.Icon>
                        <Image Height="16" Width="16" Source="Images/connected.png" />
                    </MenuItem.Icon>
                </MenuItem>
                <MenuItem x:Name="cmdDisconnect" Header="_Отключиться" Click="CmdDisconnect_OnClick" IsEnabled="False"/>
            </MenuItem>
            <MenuItem Header="_Устройства" IsEnabled="{Binding ElementName=cmdDisconnect, Path=IsEnabled}">
                <MenuItem x:Name="CmdFindDevices" Header="_Найти устройства..." Click="CmdFindDevices_OnClick"/>
                <MenuItem x:Name="CmdAddDeviceToList" Header="_Добавить устройство в список..." />
                <!--Click="CmdAddDevice_OnClick"-->
                <MenuItem x:Name="CmdDelDeviceFromList" Header="_Удалить устройство из списка" IsEnabled="{Binding ElementName=DevicesList, Path=HasItems}"/>
                <!--Click="CmdDelDeviceFromList_OnClick"-->
                <MenuItem x:Name="CmdDelAllDevicesFromList" Header="_Очистить список устройств" IsEnabled="{Binding ElementName=DevicesList, Path=HasItems}"/>
                <!--Click="CmdDelAllDevicesFromList_OnClick"-->

            </MenuItem>
        </Menu>
        <Border DockPanel.Dock ="Bottom" BorderBrush="{DynamicResource {x:Static SystemColors.ControlDarkBrushKey}}" BorderThickness="1">
            <StatusBar DockPanel.Dock ="Bottom">
                <StatusBar.ItemsPanel>
                    <ItemsPanelTemplate>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="100" />
                            </Grid.ColumnDefinitions>
                        </Grid>
                    </ItemsPanelTemplate>
                </StatusBar.ItemsPanel>
                <StatusBarItem>
                    <TextBlock x:Name="СonnectionStatus" Text="Отключено"/>
                </StatusBarItem>
                <Separator Grid.Column="1" Margin="1,0,1,0"/>
                <StatusBarItem Grid.Column="2">
                    <TextBlock x:Name="СurrentlyProcessed"/>
                </StatusBarItem>
                <Separator Grid.Column="3" Margin="1,0,1,0"/>
                <StatusBarItem Grid.Column="4">
                    <ProgressBar x:Name="ProcessingProgress" Value="0" Width="90" Height="16" />
                </StatusBarItem>
            </StatusBar>
        </Border>        
        <Grid UseLayoutRounding="True">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="1*" MinWidth="100"></ColumnDefinition>
                <ColumnDefinition Width="Auto"></ColumnDefinition>
                <ColumnDefinition Width="2*" MinWidth="100"></ColumnDefinition>
            </Grid.ColumnDefinitions>
            <ListView x:Name="DevicesList" Grid.Row="0" Grid.Column="0" Margin="10,10,0,10" HorizontalAlignment="Stretch"></ListView>
            <GridSplitter Grid.Row="0" Grid.Column="1"
                Width="3" VerticalAlignment="Stretch" HorizontalAlignment="Center"
                ShowsPreview="False" ></GridSplitter>
            <TabControl Grid.Row="0" Grid.Column="2" Margin="0,10,10,10"></TabControl>
        </Grid>        
    </DockPanel>


</Window>
